<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"      
 "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="com.gtja.dao.MemberDao">
	<select id="findAll" resultType="com.gtja.entity.Member">
		select * from member
	</select>
<!-- 	<select id="findCdate"  resultType="com.gtja.entity.Consume">
		select * from consume group by cdate order by cdate desc
	</select>


	<select id="findByCdate" parameterType="java.util.Date" resultType="map">
		select * from users left join consume on consume.userid=users.id  where cdate =#{cdate}
	</select>
	
	<update id="addDemo" parameterType="com.gtja.entity.Consume">
		update consume set demo=#{demo} 
	</update>
	
	<select id="getToday" parameterType="map" resultType="com.gtja.entity.Consume">
		select * from consume where userid=#{userid} and cdate=#{date}
	</select>
	
	<insert id="createConsume" parameterType="map">
		insert into consume(userid,cdate,demo,yue) values(#{userid},#{date},#{demo},#{yue})
	</insert>
	
	<update id="uptConsume" parameterType="map">
		update consume set demo=#{demo},yue=#{yue} where userid=#{userid} and cdate=#{date}
	</update>
	
	<select id="getByDateId" parameterType="map" resultType="com.gtja.entity.Consume">
		select * from consume where userid=#{userid} and cdate=#{date} 
	</select>
	
	
	<update id="uptconsumelunch" parameterType="map">
		update consume set lunch=#{lunch},yue=#{yue} where userid=#{userid} and cdate=#{date} 
	</update>
	
	<update id="uptconsumesupper" parameterType="map">
		update consume set supper=#{supper},yue=#{yue} where userid=#{userid} and cdate=#{date} 
	</update>
	
	<insert id="instconsumelunch" parameterType="map">
		insert into consume(userid,cdate,lunch,yue) values(#{userid},#{date},#{lunch},#{yue})
	</insert>
	
	<insert id="instconsumesupper" parameterType="map">
		insert into consume(userid,cdate,supper,yue) values(#{userid},#{date},#{supper},#{yue})
	</insert> -->

</mapper>